<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>Ù…Ø´Ø±ÙˆØ¹ Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ø§Ù„Ø¹Ø§Ø¦Ù„ÙŠØ© | Family Budget Project</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {font-family: Tahoma, Arial, sans-serif; margin:0; background:#fafafa;}
    header {background:#4a90e2; color:white; text-align:center; padding:20px;}
    h1 {margin:0;}
    table {width:100%; border-collapse:collapse; margin:20px 0; font-size:14px;}
    th, td {border:1px solid #ccc; padding:8px; text-align:center;}
    th {background:#f0f0f0;}
    input[type="number"] {width:70px; padding:5px; text-align:center;}
    .green {color:#2e7d32; font-weight:bold;}
    .yellow {color:#f9a825; font-weight:bold;}
    .red {color:#c62828; font-weight:bold;}
    .totals {background:#e1f5fe; font-weight:bold;}
    #chartContainer {width:100%; max-width:700px; margin:auto;}
    canvas {width:100%; height:auto;}
    /* Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© */
    .summary-info {
      background:#fff3e0; 
      border:1px solid #ccc; 
      padding:15px; 
      margin:20px 0; 
      font-size:15px;
      line-height:1.8;
    }
    .positive {color:#2e7d32; font-weight:bold;}
    .negative {color:#c62828; font-weight:bold;}
    /* Ø§Ù„Ø³Ù„ÙˆØºÙ† */
    .slogan-section {
      background:#2e7d32; 
      color:white; 
      padding:30px; 
      margin-top:40px;
      text-align:center;
      font-size:18px;
      line-height:1.8;
    }
    .slogan-section span {color:#ffeb3b; font-weight:bold;}
  </style>
</head>
<body>
  <header>
    <h1>ğŸ“Š Ù…Ø´Ø±ÙˆØ¹ Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ø§Ù„Ø¹Ø§Ø¦Ù„ÙŠØ© | Family Budget Project</h1>
  </header>

  <main style="padding:20px;">
    <table id="budgetTable">
      <thead>
        <tr>
          <th>Ø§Ù„Ø¨Ù†Ø¯<br>Category</th>
          <th>Ø§Ù„Ø®Ø·Ø©<br>Plan</th>
          <th>Ø´Ø±Ø§Ø¡ 1<br>Purchase 1</th>
          <th>Ø´Ø±Ø§Ø¡ 2<br>Purchase 2</th>
          <th>Ø´Ø±Ø§Ø¡ 3<br>Purchase 3</th>
          <th>Ø´Ø±Ø§Ø¡ 4<br>Purchase 4</th>
          <th>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹<br>Actual</th>
          <th>Ø§Ù„ÙØ±Ù‚<br>Difference</th>
          <th>Ùª Ù…Ù† Ø§Ù„Ø®Ø·Ø©<br>%</th>
          <th>Ø§Ù„Ù…Ø¤Ø´Ø±<br>Indicator</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Ø§Ù„Ù„Ø­ÙˆÙ… ÙˆØ§Ù„Ø¯Ø¬Ø§Ø¬ ÙˆØ§Ù„Ø³Ù…Ùƒ<br>Meat, Chicken, Fish</td>
          <td>1300</td>
          <td><input type="number" value="0"></td>
          <td><input type="number" value="0"></td>
          <td><input type="number" value="0"></td>
          <td><input type="number" value="0"></td>
          <td></td><td></td><td></td><td></td>
        </tr>
        <tr>
          <td>Ø§Ù„Ø®Ø¶Ø§Ø± ÙˆØ§Ù„ÙÙˆØ§ÙƒÙ‡<br>Vegetables & Fruits</td>
          <td>725</td>
          <td><input type="number" value="0"></td>
          <td><input type="number" value="0"></td>
          <td><input type="number" value="0"></td>
          <td><input type="number" value="0"></td>
          <td></td><td></td><td></td><td></td>
        </tr>
        <tr>
          <td>Ø§Ù„Ø®Ø¨Ø²<br>Bread</td>
          <td>100</td>
          <td><input type="number" value="0"></td>
          <td><input type="number" value="0"></td>
          <td><input type="number" value="0"></td>
          <td><input type="number" value="0"></td>
          <td></td><td></td><td></td><td></td>
        </tr>
        <tr>
          <td>Ø§Ù„Ø£Ø¬Ø¨Ø§Ù† ÙˆØ§Ù„Ø£Ù„Ø¨Ø§Ù† ÙˆØ§Ù„Ø¨ÙŠØ¶<br>Dairy, Eggs</td>
          <td>600</td>
          <td><input type="number" value="0"></td>
          <td><input type="number" value="0"></td>
          <td><input type="number" value="0"></td>
          <td><input type="number" value="0"></td>
          <td></td><td></td><td></td><td></td>
        </tr>
        <tr>
          <td>Ø§Ù„Ø­Ø¨ÙˆØ¨ ÙˆØ§Ù„Ø¨Ù‡Ø§Ø±Ø§Øª<br>Grains & Spices</td>
          <td>350</td>
          <td><input type="number" value="0"></td>
          <td><input type="number" value="0"></td>
          <td><input type="number" value="0"></td>
          <td><input type="number" value="0"></td>
          <td></td><td></td><td></td><td></td>
        </tr>
        <tr>
          <td>Ø§Ù„Ù…Ø¹Ù„Ø¨Ø§Øª ÙˆØ§Ù„Ù…Ø¬Ù…Ø¯Ø§Øª ÙˆØ§Ù„Ø²ÙŠÙˆØª<br>Canned, Frozen & Oil</td>
          <td>400</td>
          <td><input type="number" value="0"></td>
          <td><input type="number" value="0"></td>
          <td><input type="number" value="0"></td>
          <td><input type="number" value="0"></td>
          <td></td><td></td><td></td><td></td>
        </tr>
        <tr>
          <td>Ù„ÙˆØ§Ø²Ù… ØºØ³ÙŠÙ„ Ù…Ù„Ø§Ø¨Ø³<br>Laundry Supplies</td>
          <td>150</td>
          <td><input type="number" value="0"></td>
          <td><input type="number" value="0"></td>
          <td><input type="number" value="0"></td>
          <td><input type="number" value="0"></td>
          <td></td><td></td><td></td><td></td>
        </tr>
        <tr>
          <td>Ù„ÙˆØ§Ø²Ù… ØºØ³Ø§Ù„Ø© Ø§Ù„ØµØ­ÙˆÙ†<br>Dishwasher Supplies</td>
          <td>150</td>
          <td><input type="number" value="0"></td>
          <td><input type="number" value="0"></td>
          <td><input type="number" value="0"></td>
          <td><input type="number" value="0"></td>
          <td></td><td></td><td></td><td></td>
        </tr>
        <tr>
          <td>Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù…Ø·Ø¨Ø®<br>Kitchen Tools</td>
          <td>50</td>
          <td><input type="number" value="0"></td>
          <td><input type="number" value="0"></td>
          <td><input type="number" value="0"></td>
          <td><input type="number" value="0"></td>
          <td></td><td></td><td></td><td></td>
        </tr>
        <tr>
          <td>Ù†Ø¸Ø§ÙØ© Ø´Ø®ØµÙŠØ©<br>Personal Care</td>
          <td>400</td>
          <td><input type="number" value="0"></td>
          <td><input type="number" value="0"></td>
          <td><input type="number" value="0"></td>
          <td><input type="number" value="0"></td>
          <td></td><td></td><td></td><td></td>
        </tr>
        <tr>
          <td>Ø§Ù„Ø·ÙˆØ§Ø±Ø¦ / Ø§Ù„ØªØ±ÙÙŠÙ‡ / Ø§Ù„Ø¹Ø²Ø§Ø¦Ù…<br>Emergency / Leisure / Hosting</td>
          <td>775</td>
          <td><input type="number" value="0"></td>
          <td><input type="number" value="0"></td>
          <td><input type="number" value="0"></td>
          <td><input type="number" value="0"></td>
          <td></td><td></td><td></td><td></td>
        </tr>
      </tbody>
      <tfoot>
        <tr class="totals">
          <td>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ<br>Total</td>
          <td id="planTotal">5000</td>
          <td colspan="4">â€”</td>
          <td id="actualTotal">0</td>
          <td id="diffTotal">0</td>
          <td id="percentTotal">0%</td>
          <td id="indicatorTotal"></td>
        </tr>
      </tfoot>
    </table>

    <!-- Ù…Ù„Ø®Øµ Ø¥Ø¶Ø§ÙÙŠ -->
    <div class="summary-info" id="summaryBox">
      <div>ğŸ’° <b>ØµØ§ÙÙŠ Ø§Ù„Ø±ØµÙŠØ¯ (Net Balance):</b> <span id="netBalance" class="positive">+5000 Ø±ÙŠØ§Ù„</span></div>
      <div>ğŸ“Š <b>Ø§Ù„Ø®Ø·Ø© Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ© | Plan Total:</b> 5000 Ø±ÙŠØ§Ù„</div>
      <div>âœ… <b>Ø§Ù„Ø­Ø§Ù„Ø© | Status:</b> <span id="statusText">Ù…Ù…ØªØ§Ø² Ø¶Ù…Ù† Ø§Ù„Ø®Ø·Ø© | Good</span></div>
    </div>

    <div id="chartContainer">
      <canvas id="budgetChart"></canvas>
    </div>
  </main>

  <!-- Ø§Ù„Ø³Ù„ÙˆØºÙ† -->
  <section class="slogan-section">
    âœ¨ <span>Ø¨ÙŠØªÙ†Ø§ Ù…Ø´Ø±ÙˆØ¹ Ø­Ø¨ ÙˆØªØ¹Ø§ÙˆÙ† ÙˆØ°ÙƒØ§Ø¡ Ù…Ø§Ù„ÙŠ</span> âœ¨<br>
    âœ¨ <span>Our home is a project of love, teamwork, and financial wisdom</span> âœ¨
  </section>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    const table = document.getElementById('budgetTable');
    const inputs = table.querySelectorAll('tbody input');
    const planTotal = parseFloat(document.getElementById('planTotal').innerText);

    function updateTable() {
      let sumActual = 0;
      const rows = table.querySelectorAll('tbody tr');
      rows.forEach(row => {
        const plan = parseFloat(row.cells[1].innerText);
        const purchases = [
          parseFloat(row.cells[2].querySelector('input').value) || 0,
          parseFloat(row.cells[3].querySelector('input').value) || 0,
          parseFloat(row.cells[4].querySelector('input').value) || 0,
          parseFloat(row.cells[5].querySelector('input').value) || 0
        ];
        const actual = purchases.reduce((a,b)=>a+b,0);
        const diff = actual - plan;
        const percent = (actual / plan) * 100;

        row.cells[6].innerText = actual.toFixed(0);
        row.cells[7].innerText = diff.toFixed(0);
        row.cells[8].innerText = percent.toFixed(0) + "%";
        const indicatorCell = row.cells[9];
        indicatorCell.className="";
        if (percent <= 90) {
          indicatorCell.innerHTML="âœ…";indicatorCell.classList.add('green');
        } else if (percent<=110){
          indicatorCell.innerHTML="ğŸŸ¡";indicatorCell.classList.add('yellow');
        } else {
          indicatorCell.innerHTML="ğŸ”´";indicatorCell.classList.add('red');
        }

        sumActual += actual;
      });

      // Totals
      document.getElementById('actualTotal').innerText = sumActual.toFixed(0);
      const diffTotal = sumActual - planTotal;
      const percentTotal = (sumActual / planTotal) * 100;
      document.getElementById('diffTotal').innerText = diffTotal.toFixed(0);
      document.getElementById('percentTotal').innerText = percentTotal.toFixed(0) + "%";

      const indicatorTotal = document.getElementById('indicatorTotal');
      indicatorTotal.className="";
      let status="Ù…Ù…ØªØ§Ø² Ø¶Ù…Ù† Ø§Ù„Ø®Ø·Ø© | Good";
      if (percentTotal <= 90){
        indicatorTotal.innerHTML="âœ…";indicatorTotal.classList.add('green');
      } else if (percentTotal <=110){
        indicatorTotal.innerHTML="ğŸŸ¡";indicatorTotal.classList.add('yellow');
        status="Ù‚Ø±ÙŠØ¨ Ù…Ù† Ø§Ù„Ø®Ø·Ø© | Watch";
      } else {
        indicatorTotal.innerHTML="ğŸ”´";indicatorTotal.classList.add('red');
        status="ØªØ¬Ø§ÙˆØ² Ø§Ù„Ø®Ø·Ø© | Over Plan";
      }

      // Net Balance
      const netBalanceValue = planTotal - sumActual;
      const netBalanceSpan = document.getElementById('netBalance');
      netBalanceSpan.innerText = netBalanceValue.toFixed(0) + " Ø±ÙŠØ§Ù„";
      if (netBalanceValue >= 0){
        netBalanceSpan.className="positive";
      } else {
        netBalanceSpan.className="negative";
      }

      // Status update
      document.getElementById('statusText').innerText=status;

      updateChart(sumActual);
    }

    // Chart
    const ctx = document.getElementById('budgetChart').getContext('2d');
    const budgetChart = new Chart(ctx, {
      type:'pie',
      data:{
        labels:['Ø§Ù„Ø®Ø·Ø© Plan','Ø§Ù„ØµØ±Ù Ø§Ù„ÙØ¹Ù„ÙŠ Actual'],
        datasets:[{
          data:[planTotal,0],
          backgroundColor:['#4caf50','#ff7043']
        }]
      },
      options:{responsive:true, plugins:{legend:{position:'bottom'}}}
    });

    function updateChart(actual){
      budgetChart.data.datasets[0].data=[planTotal,actual];
      budgetChart.update();
    }

    inputs.forEach(input=>input.addEventListener('input',updateTable));
    updateTable();
  </script>
</body>
</html>